@page "/editar_professor/{id:int}"
<PageTitle>Editar Professor</PageTitle>

<div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="fw-bold">Editar Professor</h2>
    <a class="btn btn-outline-secondary" href="/professores">Voltar</a>
</div>

<div class="card shadow-sm">
    <div class="card-body">
        <form>
            <div class="row g-3">
                <div class="col-md-8">
                    <div class="row g-2">
                        <div class="col-md-8">
                            <label class="form-label">Nome</label>
                            <input class="form-control" value="Jefferson" />
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">CPF</label>
                            <input class="form-control" value="123.456.789-00" />
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">E-mail</label>
                            <input class="form-control" type="email" value="jefferson@email.com" />
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Telefone</label>
                            <input class="form-control" value="(69) 99999-9999" />
                        </div>

                        <div class="col-md-4">
                            <label class="form-label">Status</label>
                            <select class="form-select"><option selected>Ativo</option><option>Inativo</option></select>
                        </div>
                        <div class="col-md-8">
                            <label class="form-label">Disciplina principal</label>
                            <select class="form-select"><option selected>Português</option><option>Matemática</option></select>
                        </div>

                        <div class="col-12">
                            <label class="form-label">Turmas vinculadas</label>
                            <input class="form-control" value="1A, 2B" />
                        </div>

                        <div class="col-12">
                            <label class="form-label">Especialidade</label>
                            <textarea class="form-control" rows="3">Gramática e interpretação de texto</textarea>
                        </div>

                    </div>
                </div>
            </div>

            <div class="mt-4 d-flex justify-content-end gap-2">
                <a class="btn btn-outline-secondary" href="/professores">Cancelar</a>
                <button class="btn btn-primary" type="button">Salvar</button>
            </div>
        </form>
    </div>
</div>

@code{
  [Parameter]
    public int id { get; set; }

    private Professor professor = new();

    protected override void OnInitialized()
    {
        professor = professorDAO.BuscarPorId(id) ?? new Professor();
    }

    private void Salvar()
    {
        professorDAO.Atualizar(professor);
        // redirecionar para lista
        NavigationManager.NavigateTo("/professores");
    }
}