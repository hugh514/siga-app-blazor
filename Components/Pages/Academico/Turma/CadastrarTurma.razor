@page "/turmas/cadastrar_turma"

@using System.ComponentModel.DataAnnotations
@using SigaApp.Models
@using SigaApp.Models.Professor
 
@inject ProfessorDAO professorDAO

@rendermode InteractiveServer

@code {
    private List<Professor> Professores = new();

    protected override void OnInitialized()
    {
        Professores = professorDAO.ListarTodos();
    }
}

<PageTitle>Cadastrar Turma</PageTitle>


<div class="container py-5">
    <h3 class="mb-4 fw-semibold text-dark">Cadastrar Nova Turma</h3>

    <div class="card shadow-sm border-0 p-4 rounded-4">
        <form class="row g-3">
            <div class="col-md-6">
                <label class="form-label fw-semibold text-secondary">Nome da Turma</label>
                <input type="text" class="form-control shadow-sm" placeholder="Ex: Turma A">
            </div>

            <div class="col-md-3">
                <label class="form-label fw-semibold text-secondary">Ano/Série</label>
                <select class="form-select shadow-sm">
                    <option selected disabled>Selecione...</option>
                    <option>1º Ano</option>
                    <option>2º Ano</option>
                    <option>3º Ano</option>
                </select>
            </div>

            <div class="col-md-3">
                <label class="form-label fw-semibold text-secondary">Turno</label>
                <select class="form-select shadow-sm">
                    <option selected disabled>Selecione...</option>
                    <option>Matutino</option>

                    <option>Vespertino</option>
                    <option>Noturno</option>
                </select>
            </div>

            @* capacidade centralizada *@
            <div class="col-12">
                <div class="w-50">
                    <label class="form-label fw-semibold text-secondary">Capacidade Máxima</label>
                    <div class="text-center">
                        <input type="number" class="form-control shadow-sm mx-auto" placeholder="Ex: 40" min="1">
                    </div>
                </div>
               
            </div>

            @* professores e disciplinas na mesma linha *@
            <div class="col-md-6">
                <label class="form-label fw-semibold text-secondary">Professor(es) Responsável(is)</label>
                <select class="form-select shadow-sm" multiple>
                    @foreach (var prof in Professores)
                    {
                        <option value="@prof.Id">@prof.Nome</option>
                    }
                </select>
                <small class="text-muted">Segure CTRL para selecionar mais de um.</small>
            </div>

            <div class="col-md-6">
                <label class="form-label fw-semibold text-secondary">Disciplina(s)</label>
                <select class="form-select shadow-sm" multiple>
                    <option>Matemática</option>
                    <option>História</option>
                    <option>Português</option>
                    <option>Física</option>
                    <option>Química</option>
                </select>
                <small class="text-muted">Segure CTRL para selecionar múltiplas disciplinas.</small>
            </div>

            <div class="col-12 text-center mt-4">
                <a href="turmas" class="btn btn-secondary px-4 me-2">Cancelar</a>
                <a href="turmas" class="btn btn-primary px-4">Salvar Turma</a>
            </div>
        </form>
    </div>
</div>

<style>
    h3 {
        text-align: left;
        border-left: 5px solid #fafafa;
        padding-left: 10px;
    }

    .card {
        background-color: #fafafa;
        transition: all 0.2s ease-in-out;
    }
 
    select:focus, input:focus {
        border-color: #198754;
        box-shadow: 0 0 0 0.15rem rgba(25, 135, 84, 0.25);
    }
</style>
